import os
from jumpssh import SSHSession
import sys
server =open('server','r').readlines()

print('Press 1: For nohup.out,\nPress 2: For Json file')
value = int(input())

if 1==value:
	gateway_session = SSHSession(server[0],'ubuntu', password='r!Dlr#123').open()
	remote_session = gateway_session.get_remote_session(server[1],'pi', password='Success$2017')
	remote_session.get('/nohup.out.bac', '/home/ubuntu/environments/amol/nohup.out.bac')
	remote_session.close()
	gateway_session.close()
elif 2==value:
	gateway_session = SSHSession(server[0],'ubuntu', password='r!Dlr#123').open()
	print(gateway_session.get_cmd_output('mongoexport --host localhost --db kaa --collection logs_71910389122635980495 --limit 10000 --out /home/ubuntu/environments/amol/records_lab.json'))
	gateway_session.get('/home/ubuntu/environments/amol/records_lab.json', '/home/ubuntu/environments/amol/records_lab.json')
	gateway_session.close()
     